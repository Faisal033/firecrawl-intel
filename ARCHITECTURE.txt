# ARCHITECTURE & WORKFLOW DIAGRAM

## ğŸ—ï¸ System Architecture

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                         YOUR BROWSER ENVIRONMENT                          â•‘
â•‘                                                                           â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘  â”‚                                                                     â”‚ â•‘
â•‘  â”‚  LOCAL SERVER: http://localhost:8080                              â”‚ â•‘
â•‘  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â•‘
â•‘  â”‚  â”‚                                                             â”‚  â”‚ â•‘
â•‘  â”‚  â”‚  Single Page Application (SPA)                              â”‚  â”‚ â•‘
â•‘  â”‚  â”‚  - HTML: Form + Results Display                             â”‚  â”‚ â•‘
â•‘  â”‚  â”‚  - CSS: Styling (Responsive)                                â”‚  â”‚ â•‘
â•‘  â”‚  â”‚  - JavaScript: Business Logic                               â”‚  â”‚ â•‘
â•‘  â”‚  â”‚                                                             â”‚  â”‚ â•‘
â•‘  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚ â•‘
â•‘  â”‚  â”‚  â”‚  FORM SECTION                                       â”‚  â”‚  â”‚ â•‘
â•‘  â”‚  â”‚  â”‚  â€¢ Select Portals (Naukri, Indeed, Apna)           â”‚  â”‚  â”‚ â•‘
â•‘  â”‚  â”‚  â”‚  â€¢ Enter Search Query                               â”‚  â”‚  â”‚ â•‘
â•‘  â”‚  â”‚  â”‚  â€¢ Start Crawl Button                               â”‚  â”‚  â”‚ â•‘
â•‘  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚ â•‘
â•‘  â”‚  â”‚                         â†“                                   â”‚  â”‚ â•‘
â•‘  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚ â•‘
â•‘  â”‚  â”‚  â”‚  JAVASCRIPT ENGINE                                  â”‚  â”‚  â”‚ â•‘
â•‘  â”‚  â”‚  â”‚  â€¢ checkFirecrawlHealth()                            â”‚  â”‚  â”‚ â•‘
â•‘  â”‚  â”‚  â”‚  â€¢ startCrawl()                                      â”‚  â”‚  â”‚ â•‘
â•‘  â”‚  â”‚  â”‚  â€¢ crawlPortal() for each portal                     â”‚  â”‚  â”‚ â•‘
â•‘  â”‚  â”‚  â”‚  â€¢ extractJobsFromContent()                          â”‚  â”‚  â”‚ â•‘
â•‘  â”‚  â”‚  â”‚  â€¢ saveToStorage()                                   â”‚  â”‚  â”‚ â•‘
â•‘  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚ â•‘
â•‘  â”‚  â”‚                         â†“                                   â”‚  â”‚ â•‘
â•‘  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚ â•‘
â•‘  â”‚  â”‚  â”‚  RESULTS DISPLAY                                    â”‚  â”‚  â”‚ â•‘
â•‘  â”‚  â”‚  â”‚  â€¢ Preview Tab (Job Cards)                           â”‚  â”‚  â”‚ â•‘
â•‘  â”‚  â”‚  â”‚  â€¢ JSON Tab (Formatted JSON)                         â”‚  â”‚  â”‚ â•‘
â•‘  â”‚  â”‚  â”‚  â€¢ Downloads Tab (Export Options)                    â”‚  â”‚  â”‚ â•‘
â•‘  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚ â•‘
â•‘  â”‚  â”‚                         â†“                                   â”‚  â”‚ â•‘
â•‘  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚ â•‘
â•‘  â”‚  â”‚  â”‚  BROWSER STORAGE (localStorage)                      â”‚  â”‚  â”‚ â•‘
â•‘  â”‚  â”‚  â”‚  â€¢ Key: "telecalling-jobs"                           â”‚  â”‚  â”‚ â•‘
â•‘  â”‚  â”‚  â”‚  â€¢ Data: {jobs: [...], lastCrawlTime: ...}          â”‚  â”‚  â”‚ â•‘
â•‘  â”‚  â”‚  â”‚  â€¢ Persists across page refreshes                    â”‚  â”‚  â”‚ â•‘
â•‘  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚ â•‘
â•‘  â”‚  â”‚                                                             â”‚  â”‚ â•‘
â•‘  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â•‘
â•‘  â”‚                                                                     â”‚ â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                                                                           â•‘
â•‘                              â†‘        â†“                                   â•‘
â•‘                              â”‚        â”‚                                   â•‘
â•‘                        DIRECT API CALLS                                   â•‘
â•‘                   (NO BACKEND SERVER INVOLVED)                            â•‘
â•‘                              â”‚        â†“                                   â•‘
â•‘                                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                                 â”‚        â†“
                                 â”‚        â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                                         â”‚
        â–¼                                                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FIRECRAWL API                  â”‚           â”‚  TARGET WEBSITES                â”‚
â”‚  (localhost:3002)               â”‚           â”‚                                 â”‚
â”‚                                 â”‚           â”‚ â€¢ https://naukri.com            â”‚
â”‚ POST /v1/crawl                  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ â€¢ https://indeed.com            â”‚
â”‚ GET /health                     â”‚           â”‚ â€¢ https://apnaapp.com           â”‚
â”‚                                 â”‚           â”‚                                 â”‚
â”‚ Returns: Markdown + HTML Contentâ”‚           â”‚ (Job Listings)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Data Flow - Crawling Process

```
USER INTERACTION
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User clicks: "ğŸš€ Start Crawling"        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 1: Health Check                     â”‚
â”‚  GET http://localhost:3002/health         â”‚
â”‚  Response: âœ… or âŒ                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”œâ”€â†’ âŒ Firecrawl Offline?
    â”‚   â””â”€â†’ Show Error: "Firecrawl not running"
    â”‚       STOP
    â”‚
    â””â”€â†’ âœ… Firecrawl Running
        â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  STEP 2: For Each Selected Portal         â”‚
    â”‚  (Naukri, Indeed, Apna)                   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  POST /v1/crawl {url: portal_url}         â”‚
    â”‚  Firecrawl crawls the website             â”‚
    â”‚  Returns: {data: {markdown: "..."}}       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  STEP 3: Extract Jobs                     â”‚
    â”‚                                           â”‚
    â”‚  1. Parse markdown content                â”‚
    â”‚  2. Split into lines                      â”‚
    â”‚  3. Search for telecalling keywords       â”‚
    â”‚  4. Extract structured fields:            â”‚
    â”‚     â€¢ title                               â”‚
    â”‚     â€¢ company                             â”‚
    â”‚     â€¢ location                            â”‚
    â”‚     â€¢ description                         â”‚
    â”‚     â€¢ phone (regex extraction)            â”‚
    â”‚     â€¢ email (regex extraction)            â”‚
    â”‚  5. Filter by keyword match               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  STEP 4: Accumulate Results               â”‚
    â”‚  jobs[] array grows with each portal      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  STEP 5: Save to localStorage             â”‚
    â”‚  localStorage.setItem('telecalling-jobs', â”‚
    â”‚    {jobs: [...], lastCrawlTime: ...})     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  STEP 6: Update UI                        â”‚
    â”‚  â€¢ Show success message                   â”‚
    â”‚  â€¢ Update job count                       â”‚
    â”‚  â€¢ Render preview cards                   â”‚
    â”‚  â€¢ Format JSON display                    â”‚
    â”‚  â€¢ Enable downloads                       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  USER SEES RESULTS IN 3 TABS              â”‚
    â”‚  â€¢ Preview: Job cards                     â”‚
    â”‚  â€¢ JSON: Raw formatted data               â”‚
    â”‚  â€¢ Downloads: JSON/CSV export             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Filtering & Extraction Logic

```
CRAWLED CONTENT
(Markdown from Firecrawl)
    â”‚
    â”œâ”€â†’ Split by newlines
    â”œâ”€â†’ Filter empty/short lines
    â””â”€â†’ For each line:
        â”‚
        â”œâ”€â†’ Check for telecalling keywords:
        â”‚   â€¢ telecaller
        â”‚   â€¢ telecalling
        â”‚   â€¢ voice process
        â”‚   â€¢ call executive
        â”‚   â€¢ customer support
        â”‚   â€¢ inbound call
        â”‚   â€¢ bpo
        â”‚   â€¢ telesales
        â”‚
        â”œâ”€â†’ âœ… Keyword found?
        â”‚   â””â”€â†’ EXTRACT JOB DATA:
        â”‚       â”‚
        â”‚       â”œâ”€â†’ Title: Current line (0-80 chars)
        â”‚       â”œâ”€â†’ Company: Next line
        â”‚       â”œâ”€â†’ Location: Line after company
        â”‚       â”œâ”€â†’ Description: Line after location
        â”‚       â”œâ”€â†’ Phone: Regex on surrounding text
        â”‚       â”œâ”€â†’ Email: Regex on surrounding text
        â”‚       â”œâ”€â†’ Source: naukri/indeed/apna
        â”‚       â””â”€â†’ Timestamp: Current time
        â”‚
        â””â”€â†’ âŒ Keyword NOT found?
            â””â”€â†’ Skip this line
```

---

## ğŸ’¾ Data Structure

### Extracted Job Object:
```javascript
{
  "title": "Telecaller - Sales Support",
  "company": "XYZ Company Ltd",
  "location": "Bangalore, Karnataka",
  "description": "Handle inbound customer calls...",
  "phone": "+91-9876543210" | null,
  "email": "contact@company.com" | null,
  "source": "indeed" | "naukri" | "apna",
  "extractedAt": "2026-01-29T10:30:15.123Z"
}
```

### Storage Format:
```javascript
{
  "jobs": [
    {job1},
    {job2},
    ...
  ],
  "lastCrawlTime": "2026-01-29T10:30:00Z"
}
```

---

## ğŸ”„ Export Workflows

### JSON Export
```
appState.jobs
    â†“
Format: {metadata: {...}, jobs: [...]}
    â†“
Convert to JSON string
    â†“
Create Blob
    â†“
Download file: telecalling-jobs-YYYY-MM-DD.json
    â†“
âœ… File saved to Downloads folder
```

### CSV Export
```
appState.jobs
    â†“
Headers: Title, Company, Location, Description, Phone, Email, Source, ExtractedAt
    â†“
Map each job to CSV row
    â†“
Quote fields with commas/quotes
    â†“
Join with newlines
    â†“
Create Blob
    â†“
Download file: telecalling-jobs-YYYY-MM-DD.csv
    â†“
âœ… File saved to Downloads folder
```

---

## ğŸ–¥ï¸ Server Architecture (Static File Serving)

```
Node.js http.createServer()
    â”‚
    â”œâ”€â†’ Listen on port 8080
    â”‚
    â””â”€â†’ For each request:
        â”‚
        â”œâ”€â†’ Enable CORS headers
        â”œâ”€â†’ Handle OPTIONS requests
        â”‚
        â”œâ”€â†’ Determine file path
        â”‚   (/ â†’ index.html)
        â”‚
        â”œâ”€â†’ Read file from disk
        â”‚
        â”œâ”€â†’ Determine MIME type
        â”‚   â€¢ .html â†’ text/html
        â”‚   â€¢ .js â†’ application/javascript
        â”‚   â€¢ .css â†’ text/css
        â”‚   â€¢ etc.
        â”‚
        â”œâ”€â†’ Send response:
        â”‚   200 OK + file content
        â”‚   (or 404 if file not found)
        â”‚
        â””â”€â†’ End connection
```

---

## ğŸ”’ Security Model

```
SECURITY LAYERS:

Layer 1: Browser Isolation
â”œâ”€ localStorage is per-origin
â”œâ”€ No external server to hack
â””â”€ Data never leaves your computer

Layer 2: CORS
â”œâ”€ Browser enforces CORS on Firecrawl calls
â”œâ”€ Frontend handles CORS gracefully
â””â”€ Firecrawl configured with CORS headers

Layer 3: No Authentication
â”œâ”€ Firecrawl runs locally
â”œâ”€ No API keys needed
â”œâ”€ No user tracking
â””â”€ No remote server dependency

Layer 4: Data Clearance
â”œâ”€ User can clear all data anytime
â”œâ”€ No persistent backend
â”œâ”€ No cloud storage
â””â”€ Full user control
```

---

## ğŸ“Š Performance Characteristics

```
SPEED BREAKDOWN:

Health Check
â”œâ”€ Network latency: ~100-500ms
â”œâ”€ Firecrawl processing: ~50ms
â””â”€ Total: <1 second

Single Portal Crawl
â”œâ”€ Network: ~500-1000ms (depends on site)
â”œâ”€ Firecrawl crawling: 20-90 seconds (site dependent)
â”œâ”€ JavaScript extraction: <1 second
â”œâ”€ localStorage save: <100ms
â””â”€ Total: 30-120 seconds per portal

All 3 Portals
â”œâ”€ Sequential: 1.5-5 minutes
â””â”€ Parallel could be faster (browser limitation)

Export
â”œâ”€ JSON stringify: <100ms
â”œâ”€ CSV conversion: <200ms
â”œâ”€ File download: <1 second
â””â”€ Total: <1 second
```

---

## âœ… Validation Flow

```
BEFORE CRAWLING:

1. Check if any portals selected
   â””â”€â†’ Show error if none selected

2. Check Firecrawl health
   â”œâ”€â†’ GET /health
   â”œâ”€â†’ âŒ If offline
   â”‚   â””â”€â†’ Show: "Firecrawl not running"
   â”‚       STOP
   â””â”€â†’ âœ… If running
       Continue...

3. Get search query
   â”œâ”€â†’ Default: "telecaller"
   â””â”€â†’ Or user input

DURING CRAWLING:

1. API error handling
   â”œâ”€â†’ HTTP error? Catch and continue
   â”œâ”€â†’ No content? Skip that portal
   â””â”€â†’ Parse error? Log and continue

2. Data validation
   â”œâ”€â†’ Title required (min 5 chars)
   â”œâ”€â†’ Company optional
   â”œâ”€â†’ Location optional
   â”œâ”€â†’ Phone/Email optional (allow null)
   â””â”€â†’ Source always added

AFTER CRAWLING:

1. Check job count
   â”œâ”€â†’ 0 jobs? Show info message
   â””â”€â†’ >0 jobs? Proceed to display

2. Enable UI
   â”œâ”€â†’ Enable download buttons
   â”œâ”€â†’ Show results in tabs
   â””â”€â†’ Update statistics
```

---

## ğŸ¨ UI State Management

```
App State Object:
{
  jobs: [],              // Array of extracted jobs
  crawling: false,       // Currently crawling?
  firecrawlStatus: 'unknown', // running/offline/error
  lastCrawlTime: null    // Timestamp
}

State Updates:
â”œâ”€â†’ User action
â”‚   â””â”€â†’ Update state
â”‚       â””â”€â†’ updateUI()
â”‚           â”œâ”€â†’ Update statistics
â”‚           â”œâ”€â†’ Render preview
â”‚           â”œâ”€â†’ Format JSON
â”‚           â””â”€â†’ Show downloads
â”‚
â””â”€â†’ Page load
    â””â”€â†’ loadFromStorage()
        â””â”€â†’ Restore state
            â””â”€â†’ updateUI()
```

---

## ğŸš€ Deployment Checklist

```
âœ… Frontend
  âœ“ index.html created
  âœ“ HTML structure valid
  âœ“ CSS responsive
  âœ“ JavaScript logic complete
  âœ“ API calls configured

âœ… Server
  âœ“ serve.js created
  âœ“ Static file serving working
  âœ“ MIME types configured
  âœ“ Error handling in place
  âœ“ Port 8080 accessible

âœ… Integration
  âœ“ Firecrawl API calls working
  âœ“ CORS handling correct
  âœ“ Error messages displayed
  âœ“ Success feedback shown
  âœ“ Progress indicator working

âœ… Data
  âœ“ localStorage working
  âœ“ JSON export functional
  âœ“ CSV export functional
  âœ“ Copy to clipboard working
  âœ“ Clear data working

âœ… Testing
  âœ“ Health check tested
  âœ“ Single portal crawl tested
  âœ“ Multiple portal crawl tested
  âœ“ Job extraction tested
  âœ“ Export functions tested
  âœ“ UI updates tested

âœ… Documentation
  âœ“ FRONTEND_SYSTEM_GUIDE.md created
  âœ“ QUICK_START.txt created
  âœ“ This architecture doc created
```

---

## ğŸ¯ Success Criteria

```
âœ… All met:

1. Frontend-only system
   â””â”€ No Express backend running

2. Direct Firecrawl calls
   â””â”€ http://localhost:3002 âœ“

3. Support 3 portals
   â””â”€ Naukri, Indeed, Apna âœ“

4. Extract telecalling jobs
   â””â”€ Filtered by keywords âœ“

5. Structured data
   â””â”€ title, company, location, description, phone, email âœ“

6. Phone/Email handling
   â””â”€ Extraction with null fallback âœ“

7. Results display
   â””â”€ Preview, JSON, Downloads tabs âœ“

8. localStorage persistence
   â””â”€ Survives page refresh âœ“

9. Export functionality
   â””â”€ JSON and CSV downloads âœ“

10. Health check
    â””â”€ Before crawling âœ“
```

---

**Status**: âœ… **READY FOR PRODUCTION USE**

**Architecture**: Frontend-Only âœ“
**API Integration**: Direct Firecrawl âœ“
**Data Persistence**: localStorage âœ“
**User Interface**: Responsive & Intuitive âœ“

ğŸš€ **Start here**: http://localhost:8080
